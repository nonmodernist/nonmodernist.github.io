img {
  max-width: 100%;
  height: auto; /* Maintain aspect ratio */
  vertical-align: middle; /* Removes unwanted space under images */
}

/* Center images (already in your code) */
.center, img.center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

/* Text wrapping options */
.float-left, img.float-left {
  float: left;
  margin: 0 1.5rem 1rem 0; /* Add space between image and text */
  max-width: 50%; /* Prevent images from taking too much width on small screens */
}

.float-right, img.float-right {
  float: right;
  margin: 0 0 1rem 1.5rem;
  max-width: 50%;
}

/* Clear floating on the next element (useful after float sections) */
.clear-float {
  clear: both;
}

/* Make sure floated images work well on mobile */
@media screen and (max-width: 600px) {
  .float-left, .float-right, img.float-left, img.float-right {
    float: none;
    margin: 1rem auto;
    max-width: 100%;
    display: block;
  }
}

/* Your existing figure styles */
figure {
  box-sizing: border-box;
  display: inline-block;
  margin: 0;
  max-width: 100%;
}

/* Improved figure and figcaption styling */
figure.center {
  display: block;
  text-align: center; /* Center all content within the figure */
  width: 100%;
  margin: 1.5rem auto;
}

figure.center .pixel-corners--wrapper {
  display: inline-block; /* Keep the wrapper inline */
  margin: 0 auto; /* Center the wrapper */
}

figure.center figcaption {
  display: block;
  width: auto; /* Allow caption to size naturally */
  margin: 0.5rem auto 0;
  text-align: center;
  font-size: 0.9rem;
  color: var(--text-1);
  max-width: 100%; /* Ensure caption doesn't exceed figure width */
}

/* For floating figures, ensure caption stays with image */
figure.float-left figcaption,
figure.float-right figcaption {
  width: 100%; /* Make caption width match its container */
  text-align: center;
  margin-top: 0.5rem;
  font-size: 0.9rem;
  color: var(--text-1);
}


/* Figure variations with text wrapping */
figure.float-left {
  float: left;
  margin: 0 1.5rem 1rem 0;
  max-width: 50%;
}

figure.float-right {
  float: right;
  margin: 0 0 1rem 1.5rem;
  max-width: 50%;
}

/* Ensure images in figures don't overflow */
figure img {
  max-height: 500px;
  max-width: 100%;
}

/* Your existing media query for figures */
@media screen and (min-width: 600px) {
  figure {
    padding: 0 40px;
  }
  
  /* Adjust padding for floated figures */
  figure.float-left, figure.float-right {
    padding: 0 20px;
  }
}

/* Keep your existing pixel border styles unchanged */ 
/* pixel borders */

.dam {
  border-image:  url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAdpJREFUeF7t21FuwjAQBuFwBe5/Rq7QPpNKmYy8oUQaXve3Zb6st1CJx9ZrVOAxulubbYEON0GggQ4LDG9XhwY6LDC8XR0a6LDA8HZ1aKDDAsPb1aF3A30+nz/DZ750u9frtdRkS4vPvLNAzyiJTKAC60w00DNKB5k94OpMWjzOn+X2Advzj8/QQIdbINBADwU+fuW/vSOpX6Zn6vIMDfT9kQUqv8nRCAj0v0HvfsVXZ+p4hwZ6/M8TfeUDDZRu+VudPkZ15RXntgUqwSgeKAnJeqASjOKBkpCsByrBKB4oCcl6oBKM4oGSkKwHKsEoHigJyXqgEozigZKQrAcqwSgeKAnJeqASjOKBkpCsByrBKB4oCcl6oBKM4oGSkKwHKsEoHigJyXqgEozigZKQrAcqwSgeKAnJeqASjOKBkpCsByrBKB4oCcl6oBKM4oGSkKwHKsEoHigJyXqgEozigZIQ1Alwv7wfLQS62HJyeR0qwSgeKAkNX/FmaKCLLSeX2yteh96tQ/fn3T9x+pwmG2o5fnVH7g+of94d6PEzDhTugL1xgX4bKI2A5SH44Q1sR47P0EDfBZavfKCBHg6Rr7vyd+vYVcDLZ2igF/8VXf2mcvHxtjp0WHga9BfPRRBz8euY9AAAAABJRU5ErkJggg==") 28 /  28px / 0 round;
  border-width:  28px;
  border-style:  solid;
}

.doubledam {
  border-image:  url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAAAXNSR0IArs4c6QAAAgVJREFUeF7t3FFuwkAMRVHYAvtfI1tov5lIvFz5DQV6+2vHdc44TpHaXi9+VQWu1WoWuwhaHgJBBS0LlMs5oYKWBcrlnFBBywLlck6ooGWBcjkn9NNAb7fbT7nnreXu9/toyEYXn7kzQc8ogRxBAdaZVEHPKD3JWQGnO2nYzuFyesC0//oOFbQ8AoIK+lTg5Y88nUi6w6bnnUBoP6neeIcK+njkgsJPck5o+Cj554/89BFPJzzdmev1035TP+v94Ed+2qCgyxEJ+gjihG7eqfVHnk5w2lHtOO0vvbS2TyhtuA2W6tH+BA2igqaRg3FBIVhKFzQJwbigECylC5qEYFxQCJbSBU1CMC4oBEvpgiYhGBcUgqV0QZMQjAsKwVK6oEkIxgWFYCld0CQE44JCsJQuaBKCcUEhWEoXNAnBuKAQLKULmoRgXFAIltIFTUIwLigES+mCJiEYFxSCpXRBkxCMCwrBUrqgSQjGBYVga3obcK3/734/VNDhRDqhZcCvA003tNnvUD79Gc+6Emh/23eooPBIdi952E5Md0IjEUv4OlB2+/uz2ztz7bj+h1/7SWbfQdCZ3+FqQb8dNP1YlF4CZZ9YbvdEjneooM/PEL+UBBV09O826QobT2ia2Ljk3iyBAtZ3qKCPAk7oMhFOaHllvB3op62AKeD2HSpo+ZERVNDqi/kXw/xwgkKoQOYAAAAASUVORK5CYII=") 28 /  28px / 0 round;
  border-width:  28px;
  border-style:  solid;
}


.pixel-corners,
.pixel-corners--wrapper {
  clip-path: polygon(0px calc(100% - 16px),
    4px calc(100% - 16px),
    4px calc(100% - 8px),
    8px calc(100% - 8px),
    8px calc(100% - 4px),
    16px calc(100% - 4px),
    16px 100%,
    calc(100% - 16px) 100%,
    calc(100% - 16px) calc(100% - 4px),
    calc(100% - 8px) calc(100% - 4px),
    calc(100% - 8px) calc(100% - 8px),
    calc(100% - 4px) calc(100% - 8px),
    calc(100% - 4px) calc(100% - 16px),
    100% calc(100% - 16px),
    100% 16px,
    calc(100% - 4px) 16px,
    calc(100% - 4px) 8px,
    calc(100% - 8px) 8px,
    calc(100% - 8px) 4px,
    calc(100% - 16px) 4px,
    calc(100% - 16px) 0px,
    16px 0px,
    16px 4px,
    8px 4px,
    8px 8px,
    4px 8px,
    4px 16px,
    0px 16px);
  position: relative;
}
.pixel-corners {
  border: 8px solid transparent;
}

.pixel-corners--wrapper {
  width: fit-content;
  height: fit-content;
}

.pixel-corners--wrapper .pixel-corners {
  display: block;
  clip-path: polygon(8px 20px,
    12px 20px,
    12px 12px,
    20px 12px,
    20px 8px,
    calc(100% - 20px) 8px,
    calc(100% - 20px) 12px,
    calc(100% - 12px) 12px,
    calc(100% - 12px) 20px,
    calc(100% - 8px) 20px,
    calc(100% - 8px) calc(100% - 20px),
    calc(100% - 12px) calc(100% - 20px),
    calc(100% - 12px) calc(100% - 12px),
    calc(100% - 20px) calc(100% - 12px),
    calc(100% - 20px) calc(100% - 8px),
    20px calc(100% - 8px),
    20px calc(100% - 12px),
    12px calc(100% - 12px),
    12px calc(100% - 20px),
    8px calc(100% - 20px));
}
.pixel-corners::after,
.pixel-corners--wrapper::after {
  content: "";
  position: absolute;
  clip-path: polygon(0px calc(100% - 16px),
    4px calc(100% - 16px),
    4px calc(100% - 8px),
    8px calc(100% - 8px),
    8px calc(100% - 4px),
    16px calc(100% - 4px),
    16px 100%,
    calc(100% - 16px) 100%,
    calc(100% - 16px) calc(100% - 4px),
    calc(100% - 8px) calc(100% - 4px),
    calc(100% - 8px) calc(100% - 8px),
    calc(100% - 4px) calc(100% - 8px),
    calc(100% - 4px) calc(100% - 16px),
    100% calc(100% - 16px),
    100% 16px,
    calc(100% - 4px) 16px,
    calc(100% - 4px) 8px,
    calc(100% - 8px) 8px,
    calc(100% - 8px) 4px,
    calc(100% - 16px) 4px,
    calc(100% - 16px) 0px,
    16px 0px,
    16px 4px,
    8px 4px,
    8px 8px,
    4px 8px,
    4px 16px,
    0px 16px,
    0px 50%,
    8px 50%,
    8px 20px,
    12px 20px,
    12px 12px,
    20px 12px,
    20px 8px,
    calc(100% - 20px) 8px,
    calc(100% - 20px) 12px,
    calc(100% - 12px) 12px,
    calc(100% - 12px) 20px,
    calc(100% - 8px) 20px,
    calc(100% - 8px) calc(100% - 20px),
    calc(100% - 12px) calc(100% - 20px),
    calc(100% - 12px) calc(100% - 12px),
    calc(100% - 20px) calc(100% - 12px),
    calc(100% - 20px) calc(100% - 8px),
    20px calc(100% - 8px),
    20px calc(100% - 12px),
    12px calc(100% - 12px),
    12px calc(100% - 20px),
    8px calc(100% - 20px),
    8px 50%,
    0px 50%);
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--border-color);
  display: block;
  pointer-events: none;
}

.pixel-corners, .pixel-corners--wrapper {
  /* Add these lines */
  display: inline-block;
  margin-left: auto;
  margin-right: auto;
  line-height: 0; /* Remove extra space created by line-height */
  font-size: 0; /* Remove extra space potentially created by font-size */
}

.pixel-corners img {
  /* Add this to ensure images display properly */
  display: block;
  line-height: 0;
  margin: 0;
}
.pixel-corners::after {
  margin: -8px;
}